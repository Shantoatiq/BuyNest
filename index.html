<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BuyNest - মাছ ডেলিভারি</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0; padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
    body {
      background: linear-gradient(135deg, #ff5f6d, #ffc371);
      color: #fff;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      position: relative;
    }
    header {
      max-width: 900px;
      width: 100%;
      margin-bottom: 40px;
      text-align: center;
      user-select: none;
    }
    header h1 {
      font-size: 3rem;
      margin-bottom: 5px;
      background: linear-gradient(90deg, #ff416c, #ff4b2b, #f9d423, #ff416c);
      background-size: 300% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      filter: drop-shadow(0 3px 6px rgba(255, 75, 43, 0.7));
      letter-spacing: 0.12em;
      animation: bgAnim 6s linear infinite alternate;
    }
    @keyframes bgAnim {
      0% {background-position: 0 0;}
      100% {background-position: 200% 0;}
    }
    header p {
      font-size: 1.25rem;
      opacity: 0.9;
      margin-bottom: 0;
    }

    .fish-grid {
      max-width: 900px;
      width: 100%;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 20px;
      margin-bottom: 40px;
    }
    .fish-card {
      background: rgba(255,255,255,0.15);
      border-radius: 15px;
      padding: 15px;
      text-align: center;
      box-shadow: 0 6px 15px rgba(0,0,0,0.3);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
      user-select: none;
    }
    .fish-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 25px rgba(0,0,0,0.5);
      background: rgba(255,255,255,0.3);
    }
    .fish-card img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 12px;
      margin-bottom: 12px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.4);
      cursor: pointer;
    }
    .fish-card h3 {
      font-size: 1.2rem;
      margin-bottom: 5px;
    }
    .fish-card p {
      font-weight: bold;
      color: #ffdb4d;
      font-size: 1rem;
    }

    #cartItems {
      max-width: 400px;
      width: 100%;
      background: rgba(255,255,255,0.15);
      border-radius: 12px;
      padding: 15px;
      max-height: 300px;
      overflow-y: auto;
      box-shadow: 0 6px 15px rgba(0,0,0,0.3);
      color: #fff;
      margin-bottom: 20px;
      user-select: none;
    }
    #cartItems ul {
      list-style: none;
    }
    #cartItems li {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 0;
      border-bottom: 1px solid rgba(255,255,255,0.3);
    }
    #cartItems li:last-child {
      border-bottom: none;
    }
    #cartItems li button {
      background: #ff5252;
      color: white;
      padding: 4px 8px;
      font-size: 0.9rem;
      border-radius: 6px;
      width: auto;
      margin-left: 10px;
      cursor: pointer;
      user-select: none;
      border: none;
    }

    #orderBtn {
      background: #00e676;
      border: none;
      padding: 14px;
      font-size: 1.15rem;
      font-weight: 700;
      border-radius: 10px;
      color: #222;
      cursor: pointer;
      transition: background-color 0.3s ease;
      user-select: none;
      max-width: 400px;
      width: 100%;
      margin-bottom: 30px;
    }
    #orderBtn:hover {
      background: #00c853;
      color: white;
    }

    #cartIcon {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 50px;
      height: 50px;
      background: url('https://cdn-icons-png.flaticon.com/512/263/263142.png') no-repeat center/contain;
      pointer-events: none;
      z-index: 1000;
    }

    /* নতুন ফর্ম স্টাইল */
    #customerForm {
      max-width: 400px;
      width: 100%;
      margin-bottom: 30px;
      background: rgba(255,255,255,0.15);
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.3);
      color: #fff;
      user-select: none;
    }
    #customerForm h2 {
      margin-bottom: 15px;
      font-size: 1.5rem;
      text-align: center;
    }
    #customerForm label {
      display: block;
      margin-bottom: 8px;
      font-weight: 700;
    }
    #customerForm input,
    #customerForm textarea {
      width: 100%;
      padding: 8px 10px;
      border-radius: 6px;
      border: none;
      margin-bottom: 15px;
      font-size: 1rem;
      font-family: inherit;
    }

    @media (max-width: 480px) {
      header h1 {
        font-size: 2rem;
      }
    }
  </style>

  <!-- GSAP CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
</head>
<body>

<header>
  <h1>BuyNest</h1>
  <p>সতেজ ও সুস্বাদু মাছ সরাসরি আপনার ঘরে পৌঁছে দিবে।</p>
</header>

<div class="fish-grid" aria-label="মাছের তালিকা"></div>

<div id="cartItems" aria-live="polite" aria-atomic="true" aria-label="আপনার কার্ট">
  <strong>আপনার কার্ট</strong>
  <ul id="cartList"></ul>
</div>

<!-- কাস্টমার ডিটেইলস ফরম -->
<form id="customerForm" aria-label="গ্রাহকের তথ্য ফরম" autocomplete="off">
  <h2>তোমার তথ্য</h2>
  <label for="customerName">নাম</label>
  <input type="text" id="customerName" name="customerName" placeholder="তোমার নাম" required>

  <label for="customerPhone">মোবাইল নম্বর</label>
  <input type="tel" id="customerPhone" name="customerPhone" placeholder="০১XXXXXXXXX" pattern="[0-9]{10,15}" required>

  <label for="customerAddress">ঠিকানা</label>
  <textarea id="customerAddress" name="customerAddress" rows="3" placeholder="তোমার ঠিকানা লিখুন" required></textarea>
</form>

<button id="orderBtn" aria-label="অর্ডার করুন">অর্ডার করুন</button>

<div id="cartIcon"></div>

<script>
  const fishData = [
  const fishData = [
  {name: "ইলিশ", price: 900, img: "https://raw.githubusercontent.com/shantoatiq/buynest-fish-delivery/main/images/ilish-fish.png"},
  {name: "গলদা চিংড়ি", price: 850, img: "https://raw.githubusercontent.com/shantoatiq/buynest-fish-delivery/main/images/golda-chingri.png"},
  {name: "বাগদা চিংড়ি", price: 800, img: "https://raw.githubusercontent.com/shantoatiq/buynest-fish-delivery/main/images/bagda-chingri.png"},
  {name: "বোয়াল", price: 350, img: "https://raw.githubusercontent.com/shantoatiq/buynest-fish-delivery/main/images/boal-fish.png"},
  {name: "আইর", price: 300, img: "https://raw.githubusercontent.com/shantoatiq/buynest-fish-delivery/main/images/air-fish.png"},
  {name: "পাবদা", price: 400, img: "https://raw.githubusercontent.com/shantoatiq/buynest-fish-delivery/main/images/pabda-fish.png"},
  {name: "গুলশা", price: 300, img: "https://raw.githubusercontent.com/shantoatiq/buynest-fish-delivery/main/images/gulsha-fish.png"},
  {name: "টেংরা", price: 350, img: "https://raw.githubusercontent.com/shantoatiq/buynest-fish-delivery/main/images/tengra-fish.png"},
  {name: "মলা", price: 200, img: "https://raw.githubusercontent.com/shantoatiq/buynest-fish-delivery/main/images/mola-fish.png"},
  {name: "গুতুম", price: 250, img: "https://raw.githubusercontent.com/shantoatiq/buynest-fish-delivery/main/images/gutum-fish.png"},
  {name: "শিং", price: 400, img: "https://raw.githubusercontent.com/shantoatiq/buynest-fish-delivery/main/images/shing-fish.png"},
  {name: "মাগুর", price: 450, img: "https://raw.githubusercontent.com/shantoatiq/buynest-fish-delivery/main/images/magur-fish.png"},

  // নতুন মাছের এন্ট্রি
  {name: "নতুন মাছ", price: 500, img: "images_1754447971481.jpg"}
];
  // মাছের কার্ড তৈরি ও ইভেন্ট
  fishData.forEach(fish => {
    const card = document.createElement("div");
    card.className = "fish-card";
    card.innerHTML = `
      <img src="${fish.img}" alt="${fish.name}">
      <h3>${fish.name}</h3>
      <p>দাম: ${fish.price} টাকা</p>
    `;
    fishGrid.appendChild(card);

    const img = card.querySelector("img");
    img.style.cursor = "pointer";

    img.addEventListener("click", () => {
      // ফ্লাইং এনিমেশন
      const imgRect = img.getBoundingClientRect();
      const cartRect = cartIcon.getBoundingClientRect();

      const clone = img.cloneNode(true);
      clone.style.position = "fixed";
      clone.style.left = imgRect.left + "px";
      clone.style.top = imgRect.top + "px";
      clone.style.width = imgRect.width + "px";
      clone.style.height = imgRect.height + "px";
      clone.style.borderRadius = "12px";
      clone.style.zIndex = "9999";
      clone.style.pointerEvents = "none";

      document.body.appendChild(clone);

      gsap.to(clone, {
        duration: 1,
        left: cartRect.left + cartRect.width / 2 - imgRect.width / 4,
        top: cartRect.top + cartRect.height / 2 - imgRect.height / 4,
        width: imgRect.width / 2,
        height: imgRect.height / 2,
        ease: "power2.inOut",
        onComplete: () => {
          gsap.to(clone, {
            duration: 0.3,
            scale: 0,
            opacity: 0,
            onComplete: () => clone.remove()
          });
        }
      });

      // কার্টে মাছ যোগ / পরিমাণ বাড়ানো
      const existing = cartItems.find(item => item.fish === fish.name);
      if (existing) {
        existing.quantity++;
      } else {
        cartItems.push({fish: fish.name, quantity: 1});
      }
      renderCart();
    });
  });

  // কার্ট রেন্ডার ফাংশন
  function renderCart() {
    cartList.innerHTML = "";
    cartItems.forEach((item, idx) => {
      const li = document.createElement("li");
      li.textContent = `${item.fish} - ${item.quantity} কেজি`;

      // মুছে ফেলার বাটন
      const removeBtn = document.createElement("button");
      removeBtn.textContent = "মুছুন";
      removeBtn.addEventListener("click", () => {
        cartItems.splice(idx, 1);
        renderCart();
      });

      li.appendChild(removeBtn);
      cartList.appendChild(li);
    });

    if (cartItems.length === 0) {
      cartList.innerHTML = "<li>কার্ট খালি</li>";
    }
  }

  // অর্ডার বাটন ক্লিক করলে ওয়াটসঅ্যাপ লিংক
  orderBtn.addEventListener("click", () => {
    // ফর্মের ভ্যালিডেশন
    if (!customerForm.reportValidity()) {
      return; // ভুল থাকলে সাবমিট হবে না
    }

    if(cartItems.length === 0){
      alert("অনুগ্রহ করে মাছ যোগ করুন।");
      return;
    }

    // ফর্ম ডাটা নেওয়া
    const name = document.getElementById("customerName").value.trim();
    const phone = document.getElementById("customerPhone").value.trim();
    const address = document.getElementById("customerAddress").value.trim();

    if(name === "" || phone === "" || address === ""){
      alert("অনুগ্রহ করে সব তথ্য পূরণ করুন।");
      return;
    }

    // মেসেজ তৈরি
    let message = `আমার মাছের অর্ডার:\n\n`;
    message += `নাম: ${name}\n`;
    message += `মোবাইল: ${phone}\n`;
    message += `ঠিকানা: ${address}\n\n`;
    message += `মাছের তালিকা:\n`;

    cartItems.forEach(item => {
      message += `${item.fish} - ${item.quantity} কেজি\n`;
    });

    // ওয়াটসঅ্যাপ লিংক (নম্বর পরিবর্তন করতে পারো)
    const whatsappURL = `https://wa.me/8801723376453?text=${encodeURIComponent(message)}`;
    window.open(whatsappURL, "_blank");
  });

  // প্রথমে খালি কার্ট দেখাবে
  renderCart();
</script>

</body>
</html>
